{% extends 'base.html' %}

{% block content %}
<section class="vh-150 mb-4 mt-4" >
    <div class="container mb-4">
      <div class="row d-flex justify-content-center align-items-center mb-5">
        <div class="col-lg-12 col-xl-11">
          <div class="card text-black" style="border-radius: 25px;">
            <div class="card-body p-md-5">
              <div class="row justify-content-center update-profile">
                
                <div class="col-md-10 col-lg-6 col-xl-5 order-2 order-lg-1 " >
                  <div class="form-outline flex-fill mb-0 mr-2" >
  
                    
                </div>
                  <h2 >Edit Profile</h2>
                  
  
                 
  
                   <form method="post" enctype="multipart/form-data">
                        {% csrf_token %}
  
                    <div class="d-flex flex-row align-items-center mb-4">
                      <i class="fas fa-user-circle fa-lg me-3 fa-fw"></i>
                      <div class="form-outline flex-fill mb-0">
                        <input type="text" class="form-control mb-1" id="username" name="username" placeholder="Username"
                          value="{{ user.username }}" disabled>
  
  
                      </div>
                    </div>
  
                    
  
                    
                    <div class="d-flex flex-row align-items-center mb-4">
                      <i class="fas fa-user fa-lg me-3 fa-fw"></i>
                      <div class="form-outline flex-fill mb-0">
                        <input type="text" class="form-control mb-1" id="name" name="name" placeholder="Name"
                          value="{{ form.instance.name }}" >
  
  
                      </div>
                    </div>
  
                    <div class="d-flex flex-row align-items-center mb-4">
                      <i class="fas fa-cloud-upload-alt fa-lg me-3 fa-fw"></i>
                      <div class="form-outline flex-fill mb-0">
                        <input type="file" class="form-control" id="profile_image" name="profile_image" onchange="previewImage(event)">
                      </div>
  
                    </div>
  
                    <div class="d-flex flex-row align-items-center mb-4">
                      <i class="fas fa-map-marker-alt fa-lg me-3 fa-fw"></i> 
                      <div class="form-outline flex-fill mb-0">
  
                        <input type="text" class="form-control" id="place" name="place" placeholder="Your City"
                          value="{{ form.instance.place }}">
                      </div>
                    </div>
  
  
  
  
                    <div class="d-flex flex-row align-items-center mb-4">
                      <i class="fas fa-pencil-alt fa-lg me-3 fa-fw"></i>
                      <div class="form-outline flex-fill mb-0">
  
                        <textarea class="form-control" id="bio" name="bio" rows="5"
                          placeholder="Your Bio">{{ form.instance.bio }}</textarea>
                      </div>
                    </div>
  
  
                   
  
  
                    <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4">
                      <button type="Submit" value="update" class="btn btn-custom-outline btn-lg">Save</button>
                    </div>
  
                  </form>
                  
  
                </div>
                
  
                
                <div class="col-md-10 col-lg-6 col-xl-7 d-flex align-items-center order-1 order-lg-2">
  
                  
                 
                    <div class="update-profile-img">
                      {% if form.instance.profile_image %}
                      <img class="img-fluid" id="image_preview"
                         src="{{ form.instance.profile_image.url }}" id="profile-preview"
                        alt="Profile Image">
                      {% else %}
                                <img src="#" id="profile-preview" alt="Profile Preview" class="img-fluid mt-3 rounded" style="max-width: 200px; display: none;">
                            {% endif %}
                    </div>
                
                </div>
               
  
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    </div>
  </section>
  
  <script>
    function previewImage(event) {
      var reader = new FileReader();
      reader.onload = function () {
        var img = document.getElementById('image_preview');
        img.src = reader.result;
      }
      reader.readAsDataURL(event.target.files[0]);
    }
  </script>
{% endblock %}
